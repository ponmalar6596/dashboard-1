(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[15],{"0K1N":function(e,t,a){t.a=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},"37no":function(e,t,a){a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return o}));var n=a("7w6Q");const i=Object.freeze({OTHER:0,FACEBOOK:1,GPLUS_ONE:2});function r(e){return new Promise((t,a)=>{if(document.querySelector(`script[src="${e}"]`))return void t();const n=document.createElement("script");n.src=e,n.async=!0,n.addEventListener("load",t),n.addEventListener("error",a),document.getElementsByTagName("head")[0].appendChild(n)})}function o(e,t=i.OTHER,a=!1){const r=a?"web":"mweb";return new Promise((a,o)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if(t===i.GPLUS_ONE)if(window.gapi)a();else{const t=setInterval(()=>{window.gapi||20===e?(clearInterval(t),a()):(e+=1,n.a.increment(`${r}.loadScript.gplus_one.tries_${e}`,.01))},100)}else if(t===i.FACEBOOK)if(window.FB)a();else{const t=setInterval(()=>{window.FB||20===e?(clearInterval(t),a()):(e+=1,n.a.increment(`${r}.loadScript.facebook.tries_${e}`,.01))},100)}else a()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",a),t.addEventListener("error",o),document.getElementsByTagName("head")[0].appendChild(t)}})}},"8vQR":function(e,t,a){a.d(t,"a",(function(){return d}));var n=a("q1tI"),i=a.n(n),r=a("Ye/N"),o=a("7w6Q"),s=a("eOdZ"),c=a("n6mq"),l=a("U4JR");function d(e){const{identifier:t,onHide:a}=e,n=()=>{s.a.create("ShareSuggestionsHideResource",{user_identifier:t}).callCreate().then(()=>{a(),(()=>{const{component:t,element:a}=e;Object(l.b)(101,{component:t,element:a}),o.a.increment("web_contacts.suggestions.hide",1,{surface:t})})()})};return i.a.createElement(c.u,{icon:"cancel",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),n()},accessibilityLabel:r.a._("Remove contact","SendObject.SendObjectSuggestionItem","accessibility label for removing contact suggestion"),size:"xs"})}},"9Hsp":function(e,t,a){a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o}));const n=/[\- _,.<>:;+=*&@~\/\|!]*$/,i=(e,t=80,a="â€¦")=>{let i;if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t])i=e.substring(0,t);else{const a=e.lastIndexOf(" ",t);i=e.substring(0,a)}return i=i.replace(n,""),i+a},r=/\s\s+/g,o=e=>e.replace(r," ")},"CgR/":function(e,t,a){a.d(t,"a",(function(){return p}));var n=a("q1tI"),i=a.n(n),r=a("geGc"),o=a("Sp3T"),s=a("TqAR"),c=a("TgLd"),l=a("oVol"),d=a("U4JR"),u=a("n6mq");function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const m=({children:e})=>e(Object(o.a)());class p extends n.Component{constructor(...e){super(...e),h(this,"handleDismiss",()=>{const{onFlyoutDismiss:e}=this.props;e()}),h(this,"onHide",()=>{this.props.onClick(),this.handleDismiss()}),h(this,"flyoutProps",()=>{const{gridDescription:e,idealDirection:t,imageSrc:a,pinId:n,userId:o,board:c,sendType:d,fullName:u,profileUrl:h,viewParameter:m,viewType:p,onExternalSend:g,showCaret:b,todayArticle:f}=this.props;let E={description:e,id:n,imageUrl:a,name:"",type:l.a.PIN,url:`/pin/${n}/`},S=l.a.PIN;switch(d){case"user":E={description:e,id:o,imageUrl:a,name:u,type:l.a.PINNER,url:h},S=l.a.USER;break;case"board":E=c&&{description:c.description,id:c.id,imageUrl:c.imageUrl,name:c.name,type:l.a.BOARD,url:c.url},S=l.a.BOARD;break;case"today_article":E=f&&{description:f.subtitle||"",id:f.id,imageUrl:a,name:f.title,type:l.a.TODAY_ARTICLE,url:Object(s.i)(f)},S=l.a.TODAY_ARTICLE}const v={isFlyout:!0,onHide:this.onHide,onExternalSend:g,sendType:S,sharedObject:E,viewParameter:m,viewType:p};return{anchor:this.flyoutAnchor,idealDirection:t,onDismiss:this.handleDismiss,showCaret:b,children:i.a.createElement(r.default,v)}})}static makeSendShareButton(e){return t=>i.a.createElement(this,Object.assign({ref:t.shareButtonRef,Subject:e},t))}toggle(){const{onToggleFlyout:e,sendType:t,userId:a}=this.props;"user"===t&&Object(d.b)(101,{component:13675,element:1079,objectId:a,view:4,viewParameter:3107}),e()}render(){const{Subject:e,inModal:t,isFlyoutOpen:a,shownWithinMasonry:n}=this.props,{anchor:r,idealDirection:o,onDismiss:s,showCaret:l,children:d}=this.flyoutProps();return i.a.createElement("div",null,i.a.createElement(u.e,{ref:e=>{e&&(this.flyoutAnchor=e)}},i.a.createElement(m,null,t=>i.a.createElement(e,Object.assign({handleSendShareFlyoutButtonClick:e=>t(()=>{(null==e?void 0:e.stopPropagation)&&e.stopPropagation(),this.toggle()})},this.props)))),a&&(n?i.a.createElement(u.x,null,i.a.createElement(u.e,{zIndex:t?c.a:void 0,position:t?"absolute":void 0,top:!!t||void 0},i.a.createElement(u.q,{anchor:r,idealDirection:o,onDismiss:s,showCaret:l,size:"xl",positionRelativeToAnchor:!1},d))):i.a.createElement(u.q,{anchor:r,idealDirection:o,onDismiss:s,showCaret:l,size:"xl"},d)))}}h(p,"defaultProps",{idealDirection:"down",onClick:()=>{}})},ENhS:function(e,t,a){a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o}));var n=a("1dBE");const{Provider:i,Consumer:r,useHook:o}=Object(n.c)("SurfaceContext",{surface:"Unknown"})},SNfw:function(e,t,a){a.d(t,"a",(function(){return r}));var n=a("q1tI"),i=a.n(n);function r({size:e,iconColor:t,backgroundColor:a,grayscale:n=!1}){const r=t||(n?"#333333":"#8E8E8E"),o=a||"#EFEFEF";return i.a.createElement("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.a.createElement("circle",{id:"Oval",fill:o,cx:"18",cy:"18",r:"18"}),i.a.createElement("g",{transform:"translate(9.000000, 12.000000)",fill:r,fillRule:"nonzero"},i.a.createElement("path",{d:"M16.7972727,2.052 L10.5905455,8.14909091 C10.152,8.57945455 9.576,8.79545455 9,8.79545455 C8.424,8.79545455 7.848,8.57945455 7.40863636,8.14909091 L1.20190909,2.052 C0.962181818,1.81636364 0.962181818,1.43427273 1.20190909,1.19863636 C1.44163636,0.963818182 1.83027273,0.963818182 2.07,1.19863636 L8.27672727,7.29572727 C8.67518182,7.68845455 9.324,7.68845455 9.72327273,7.29572727 L15.9291818,1.19863636 C16.1689091,0.963818182 16.5575455,0.963818182 16.7972727,1.19863636 C17.037,1.43427273 17.037,1.81636364 16.7972727,2.052 Z M0,11.4545455 L18,11.4545455 L18,0 L0,0 L0,11.4545455 Z"}))))}},Sp3T:function(e,t,a){var n=a("AWyA");t.a=()=>{const{loginForMore:e,viewer:t}=Object(n.d)();return a=>{"AUTH"===t.type?a():e&&e.setVisible(!0)}}},WM6B:function(e,t,a){var n=a("q1tI");class i extends n.Component{constructor(e){var t,a,i;super(e),i={manualTruncate:!1},(a="state")in(t=this)?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,this.ref=n.createRef()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,n=this.ref&&this.ref.current;if(!n)return;const i=void 0===n.textContent?"innerText":"textContent",r=n[i];("boolean"!=typeof t.spaces||t.spaces?r.split(" "):r).length<2?this.setState({manualTruncate:!0}):a.e("ShaveLibrary").then(a.bind(null,"eh6K")).then(({default:a})=>{a(n,e,t)})}render(){const{maxWidthPx:e,maxHeightPx:t,inline:a=!1}=this.props,{manualTruncate:i}=this.state,r={maxWidth:e,maxHeight:t},o=a?{display:"inline",...r}:{...r};return i?n.createElement("div",{ref:this.ref,style:{...o,overflow:"hidden"}},this.props.children):n.createElement("div",{ref:this.ref,style:o},this.props.children)}}t.a=i},ZVOf:function(e,t,a){a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return c}));var n=a("eOdZ"),i=a("/X16");function r(e,t){return n.a.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function o(e,t){return{type:i.a.USER_FOLLOW,payload:{id:e,value:t}}}function s(e,t=null){return a=>{r(e,t).callCreate().catch(()=>a(o(e,!1))),a(o(e,!0))}}function c(e,t=null){return a=>{r(e,t).callDelete().catch(()=>a(o(e,!0))),a(o(e,!1))}}},ZtJp:function(e,t,a){a.d(t,"a",(function(){return r}));var n=a("q1tI"),i=a.n(n);function r({size:e,iconColor:t,backgroundColor:a,grayscale:n=!1}){const r=t||(n?"#333333":"#8E8E8E"),o=a||"#EFEFEF";return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 36 36",version:"1.1"},i.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.a.createElement("circle",{fill:o,cx:"18",cy:"18",r:"18"}),i.a.createElement("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:r,fillRule:"nonzero"},i.a.createElement("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"}))))}},fZbY:function(e,t,a){const n=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i;t.a=e=>n.test(e)},geGc:function(e,t,a){a.r(t),a.d(t,"default",(function(){return Ee}));var n=a("q1tI"),i=a.n(n),r=a("/MKj"),o=a("Ye/N"),s=a("FDmi"),c=a("oVol"),l=a("n6mq");function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class u extends n.Component{constructor(...e){super(...e),d(this,"state",{textValue:this.props.initialTextValue||""}),d(this,"handleSendMessage",()=>{this.props.onSendMessage(this.props.recipient,this.state.textValue)}),d(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})})}render(){const{isFlyout:e,onCancelDraft:t,viewerId:a}=this.props,n=this.props.recipient||{},r="conversation_share_suggestion"===n.type,c=r?(n.users||[]).filter(e=>e.id!==a):[];return i.a.createElement(l.e,{paddingX:4,width:360},i.a.createElement(l.e,{alignItems:"center",display:"flex",paddingY:4},i.a.createElement(l.e,{height:48,paddingX:1,width:56},r?i.a.createElement(l.r,{collaborators:c.map(e=>({name:e.full_name||e.first_name,src:e.image_large_url}))}):i.a.createElement(s.a,{name:n.full_name||n.email||" ",src:n.image_large_url})),i.a.createElement(l.e,{direction:"column",flex:"grow",marginStart:1},i.a.createElement(l.V,{weight:"bold"},r?c.map(e=>e.first_name||e.full_name).join(", "):n.full_name||n.email),i.a.createElement(l.V,{color:"gray",size:"sm"},r||n.username?n.username:o.a._("Invite by email","shareSheet.SendObjectDraft.inviteByEmailSubheader","Subheader shown when username is not avaible"))),e?i.a.createElement(l.u,{accessibilityLabel:o.a._("Cancel share to user","shareSheet.SendObjectDraft.cancelButton","Accessibility label for close button"),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"}):null),i.a.createElement(l.e,null,i.a.createElement(l.e,null,i.a.createElement(l.W,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:o.a._("Add a message","shareSheet.SendObjectDraft.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""})),i.a.createElement(l.e,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:4},i.a.createElement(l.f,{color:"red",inline:!0,onClick:this.handleSendMessage,size:"lg",text:o.a._("Send","shareSheet.SendObjectDraft.sendButton","Button that sends out to email"),type:"submit"}))))}}var h=Object(r.connect)((function({viewer:e}){return{viewerId:e.isAuth?e.id:""}}),()=>({}))(u),m=a("fZbY");function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class g extends n.Component{constructor(...e){super(...e),p(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),p(this,"handleSendEmail",(e,t)=>{if(e){const a={email:e,full_name:e,id:"",image_large_url:"",username:""};this.props.onSendMessage(a,t)}}),p(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})}),p(this,"handleEmailValueChange",({value:e})=>{this.setState({emailValue:e})})}render(){const{isFlyout:e,onCancelDraft:t}=this.props;return i.a.createElement(l.e,{display:"flex",direction:"column",column:12,paddingX:4,width:360},i.a.createElement(l.e,{display:"flex",alignItems:"center",paddingY:4},i.a.createElement(l.e,{flex:"grow"},i.a.createElement(l.V,{weight:"bold"},o.a._("Send to","shareSheet.SendToEmail.label","Send to label"))),e?i.a.createElement(l.u,{accessibilityLabel:o.a._("Cancel share to user","accessibility label for close button","accessibility label for close button"),icon:"cancel",onClick:t,size:"sm"}):null),i.a.createElement(l.e,{display:"flex",direction:"column"},i.a.createElement(l.e,{paddingY:1,marginBottom:4},i.a.createElement(l.W,{id:"email",onChange:this.handleEmailValueChange,placeholder:o.a._("Enter email address","Email address to send to","Email address to send to"),value:this.state.emailValue||"",rows:1})),i.a.createElement(l.W,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:o.a._("Add a message","shareSheet.SendToEmail.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""}),i.a.createElement(l.e,{paddingY:4,display:"flex",justifyContent:"center"},i.a.createElement(l.f,{inline:!0,size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:o.a._("Send","shareSheet.SendToEmail.sendButton","Button that sends out to email"),disabled:!Object(m.a)(this.state.emailValue)}))))}}var b=a("vvax");function f({email:e,isValid:t,onClick:a,showSendEmailText:n}){const r=t?o.a._("Click to send!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to click in order to send an object"):o.a._("Keep typing!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to keep typing until the email address is valid"),c=n?Object(b.b)(o.a._("Email {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the email address typed in the search field"),{email:e}):Object(b.b)(o.a._("Invite {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the search query typed in the search field"),{email:e});return i.a.createElement(l.e,{marginBottom:4},i.a.createElement(l.U,{onTap:()=>{t&&a()}},i.a.createElement(l.e,{display:"flex"},i.a.createElement(l.e,{height:48,width:48},i.a.createElement(s.a,{name:e})),i.a.createElement(l.e,{paddingX:3,display:"flex",justifyContent:"center",direction:"column"},i.a.createElement(l.V,{weight:"bold",size:"lg"},c),i.a.createElement(l.V,{size:"sm",color:"gray"},r)))))}var E=a("iS6d"),S=a("w1Xl"),v=a("8vQR"),y=a("4cpq");function C(e){const{shouldShowViewChat:t,isSent:a,onClickSend:n,onViewConversation:r}=e;return i.a.createElement(l.e,{display:"flex"},t?i.a.createElement(l.U,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),r()}},i.a.createElement(l.e,{alignItems:"center","data-test-id":"sharesheet-viewchat-link",display:"flex"},i.a.createElement(l.V,{color:"darkGray",size:"md",truncate:!0,weight:"bold"},o.a._("View chat","SendObject.contactList.viewChatLink","View chat with last sent item")),i.a.createElement(l.e,{marginStart:1},i.a.createElement(l.t,{accessibilityLabel:o.a._("View chat forward icon","SendObject.contactList.viewChatLink","View chat with last sent item"),color:"darkGray",icon:"arrow-forward",size:14})))):i.a.createElement(y.a,{id:a?"sharesheet-viewchat-link":"sharesheet-send-button"},i.a.createElement(l.f,{color:a?"gray":"red",disabled:a,inline:!0,onClick:n,size:"lg",text:a?o.a._("Sent","SendObject.LEGOSendObjectTypeahead","Pin is sent to current contact"):o.a._("Send","SendObject.LEGOSendObjectTypeahead","Send pin to current contact")})))}var w=a("U4JR");function _(e){var t,a,o;const{item:c,textFieldValue:d,onSendMessage:u,onShowSendDraft:h,onViewConversation:m,sentHistory:p}=e,[g,b]=Object(n.useState)(!1),[f,y]=Object(n.useState)(!1),[_,O]=Object(n.useState)(!1),j=c.id||"string"==typeof c.email&&c.email||"",k=j in p,x=""!==d,L=null!==(t=p[j])&&void 0!==t?t:"",I=Object(r.useSelector)(e=>e.viewer.id||""),T="conversation_share_suggestion"===c.type,P=T?(c.users||[]).filter(e=>e.id!==I):[],D=c.debug_reason&&c.debug_reason.readable_reason;let F="";"string"!=typeof c.full_name||c.full_name.match(/^\s*$/)?"string"!=typeof c.email||c.email.match(/^\s*$/)||(F=c.email):F=c.full_name;return g?i.a.createElement(l.e,{alignItems:"center",display:"flex",position:"relative",width:"100%",paddingY:2},i.a.createElement(S.a,{identifier:null!==(a=c.id)&&void 0!==a?a:c.email,onUndoHide:()=>b(!1),component:13029,element:11918,isGroupChat:P.length>1})):i.a.createElement(l.e,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",paddingY:2,position:"relative",width:"100%"},i.a.createElement(l.U,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),h(c)}},i.a.createElement(l.i,{onMouseEnter:()=>{y(!(x||_&&k))},onMouseLeave:()=>y(!1)},i.a.createElement(l.e,{alignItems:"center",display:"flex"},i.a.createElement(l.e,{height:48,width:48},T?i.a.createElement(l.r,{collaborators:P.map(e=>({name:e.full_name||e.first_name,src:e.image_medium_url}))}):i.a.createElement(s.a,{accessibilityLabel:"",name:F,src:c.image_medium_url})),i.a.createElement(l.e,{alignItems:"center",display:"flex",flex:"grow",height:"100%",width:"100%"},i.a.createElement(l.e,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8,paddingRight:16}},flex:"grow"},i.a.createElement(l.e,{marginBottom:1},i.a.createElement(l.V,{color:"darkGray",truncate:!0,weight:"bold"},T?P.map(e=>e.first_name||e.full_name).join(", "):F)),x&&D?i.a.createElement(l.V,{color:"gray",size:"sm"},D):"string"==typeof c.username&&i.a.createElement(l.V,{color:"gray",size:"sm"},c.username)),i.a.createElement(l.e,{flex:"none",display:"flex",justifyContent:"end",alignItems:"center"},f&&i.a.createElement(l.e,{display:"flex",marginEnd:2},i.a.createElement(v.a,{identifier:null!==(o=c.id)&&void 0!==o?o:c.email,onHide:()=>b(!0),component:13029,element:11917})),i.a.createElement(C,{shouldShowViewChat:k,isSent:_,onClickSend:({event:t})=>{t.stopPropagation(),(()=>{var t;const{idx:a}=e,n=d?1044:1039;Object(w.b)(101,{component:13029,element:n,entered_query:d,result_index:a+1,rs:null===(t=c.debug_reason)||void 0===t?void 0:t.reason})})(),O(!0),u(c),y(!1)},onViewConversation:()=>m(L)})))))),i.a.createElement(E.a.Consumer,null,e=>{var t;return e?i.a.createElement(l.e,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",backgroundColor:"rgba(255,255,255,0.5)"}},position:"absolute",right:!0,top:!0},i.a.createElement(l.s,{color:"blue",size:"sm"},null===(t=c.debug_reason)||void 0===t?void 0:t.reason)):null}))}var O=a("ANjH"),j=a("ZdHo"),k=a("fhk9"),x=a("w70y");var L=Object(O.compose)(Object(x.b)({name:"ShareSuggestionsResource",key:"shareSuggestionsResource",options:{field_set_key:"default"},allowStale:!1}),Object(x.b)({name:"ShareSuggestionsTypeaheadResource",key:"shareSuggestionsTypeaheadResource",options:e=>({field_set_key:"default",term:e.value||"default"}),allowStale:!1}))((function(e){const{onChange:t,onSendMessage:a,onShowSendDraft:s,onShowImportContacts:c,sentHistory:d,value:u,shareSuggestionsResource:{isLoaded:h},shareSuggestionsTypeaheadResource:{isLoaded:p},paddingX:g}=e,b=Object(r.useSelector)(e=>e.social.shareSuggestions[u]||[]);Object(n.useEffect)(()=>{if(!u&&h){const e=b.length>0?7511:7512;Object(w.b)(e,{component:56,view:70,viewParameter:256})}},[h]);const E=Object(r.useDispatch)(),S=t=>{const{isFlyout:a,onHide:n}=e;!a&&n&&n(),(e=>{E(Object(j.e)(e))})(t),E(k.a)},v=b.map((e,t)=>{const n=`${t}-${u?"search":"suggestion"}`,r={item:e,idx:t,onSendMessage:a,onShowSendDraft:s,onViewConversation:S,sentHistory:d,textFieldValue:u};return i.a.createElement(_,Object.assign({key:n},r))}),y=0===b.length&&(""===u&&!h||""!==u&&!p);return i.a.createElement(l.e,null,i.a.createElement(l.e,{display:"flex",paddingX:g,position:"relative"},i.a.createElement(l.e,{"data-test-id":"sharesheet-search-user",width:"100%"},i.a.createElement(l.K,{accessibilityLabel:o.a._("Search for a name or email","SendObject.searchbar.accesibilityLabel","accessible label"),id:"search",onChange:t,placeholder:o.a._("Name or email","SendObject.searchbar.placeholder","Placeholder text on search bar for searching contacts on sharesheet"),size:"lg",value:u}))),i.a.createElement(l.e,{dangerouslySetInlineStyle:{__style:{overflowY:"scroll",overflowX:"hidden",zIndex:1e3}},height:185,marginBottom:4,marginTop:2},i.a.createElement(l.e,{paddingX:g},i.a.createElement(l.e,{paddingY:y?2:0},i.a.createElement(l.O,{accessibilityLabel:o.a._("Loading Conversation Messages","SendObject.contactList.spinner","Spinner that indicates then the contact list is being loaded"),show:y})),i.a.createElement(l.e,null,v,u&&i.a.createElement(l.e,null,i.a.createElement(l.i,null,i.a.createElement(f,{email:u,isSend:!0,isValid:Object(m.a)(u),onClick:()=>s({email:u,full_name:u}),showSendEmailText:!1})),!y&&i.a.createElement(l.e,{width:"100%"},i.a.createElement(l.i,null,i.a.createElement(l.U,{onTap:c},i.a.createElement(l.e,{alignItems:"center",direction:"row",display:"flex"},i.a.createElement(l.e,{alignItems:"center",color:"lightGray",display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48},i.a.createElement(l.t,{accessibilityLabel:"people",color:"darkGray",icon:"people",size:24})),i.a.createElement(l.e,{paddingX:3},i.a.createElement(l.V,{weight:"bold"},o.a._("Choose from contacts","SendObject.typeahead.contactHeader","Header that indicates user to choose from contact list"))))))))))))})),I=a("d7ng"),T=a("ZtJp"),P=a("WM6B");var D=({text:e})=>i.a.createElement(l.V,{align:"center",size:"sm"},i.a.createElement(P.a,{maxWidthPx:128,maxHeightPx:50},e));var F=({iconSize:e,marginEnd:t,children:a})=>i.a.createElement(l.e,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e+24},a);const B=()=>a.e("clipboardLibrary").then(a.t.bind(null,"sxGJ",7));var R=({onClick:e,iconColor:t,iconSize:a,backgroundColor:r,invitePath:s})=>{const[c,d]=Object(n.useState)(!1),u=Object(n.useRef)(null);return Object(n.useEffect)(()=>{B().then(({default:e})=>{e.isSupported()&&(e=>{if(!u.current||!B)return;new e(u.current,{text:()=>s}).on("error",e=>{throw new Error("<ShareSocialBar /> error: copy command failed")})})(e)})},[s]),i.a.createElement(F,{iconSize:a,marginEnd:!1},i.a.createElement(l.e,{ref:u},i.a.createElement(l.U,{onTap:()=>{e(),d(!0),setTimeout(()=>{d(!1)},3e3)}},i.a.createElement(l.e,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center"},i.a.createElement(T.a,{backgroundColor:r,iconColor:t,size:a}))),i.a.createElement(D,{text:c?o.a._("Link copied!","shareSheet.socialBar.copyLinkButton.LinkCopied","Notification link was copied to clipboard"):o.a._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard")})))},A=a("SNfw"),z=a("K316"),M=a("TvzZ");function V({size:e=48,iconColor:t,backgroundColor:a,grayscale:n=!1}){const r=t||(n?"#333333":"#8E8E8E"),o=a||"#EFEFEF";return i.a.createElement("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("g",{fill:"none",strokeWidth:"1",stroke:"none",fillRule:"evenodd"},i.a.createElement("circle",{fill:o,cx:"24",cy:"24",r:"24",stroke:"none"}),i.a.createElement("g",{transform:"translate(14.000000, 14.000000)",fill:r},i.a.createElement("circle",{cx:"10",cy:"10",r:"6"}),i.a.createElement("circle",{cx:"17",cy:"3",r:"2"}),i.a.createElement("circle",{cx:"17",cy:"17",r:"2"}),i.a.createElement("circle",{cx:"19",cy:"10",r:"1"}),i.a.createElement("circle",{cx:"10",cy:"19",r:"1"}),i.a.createElement("circle",{cx:"1",cy:"10",r:"1"}),i.a.createElement("circle",{cx:"10",cy:"1",r:"1"}),i.a.createElement("circle",{cx:"3",cy:"17",r:"2"}),i.a.createElement("circle",{cx:"3",cy:"3",r:"2"}))))}var H=a("v/Q4");function U({sharedObject:e,onCreatePincodeClick:t,iconColor:a,iconSize:n,backgroundColor:r}){const s=Object(H.a)();return t&&[c.a.BOARD,c.a.PINNER,c.a.USER].includes(e.type)&&s.isAuth&&(e.id===s.id||s.isEmployee)?i.a.createElement(F,{key:"pincode",iconSize:n,marginEnd:!0},i.a.createElement(l.U,{fullWidth:!1,onTap:t},i.a.createElement(V,{backgroundColor:r,iconColor:a,size:n})),i.a.createElement(D,{text:o.a._("Pincode","Share via pincode","Share via pincode")})):null}var N=a("mBfy"),W=a("udob");const G="#EFEFEF",$="#333333";function q({size:e=48,grayscale:t=!1}){const a=t?$:"#FFFFFF",n=t?G:"#1877f2";return i.a.createElement("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e},i.a.createElement("title",null,"f_logo_RGB-Blue_1024"),i.a.createElement("g",{id:"surface1"},i.a.createElement("path",{style:{fill:n,stroke:"transparent"},d:"M 48 24 C 48 10.746094 37.253906 0 24 0 C 10.746094 0 0 10.746094 0 24 C 0 35.980469 8.777344 45.90625 20.25 47.707031 L 20.25 30.9375 L 14.15625 30.9375 L 14.15625 24 L 20.25 24 L 20.25 18.710938 C 20.25 12.699219 23.832031 9.375 29.316406 9.375 C 31.941406 9.375 34.6875 9.84375 34.6875 9.84375 L 34.6875 15.75 L 31.660156 15.75 C 28.679688 15.75 27.75 17.601562 27.75 19.5 L 27.75 24 L 34.40625 24 L 33.34375 30.9375 L 27.75 30.9375 L 27.75 47.707031 C 39.222656 45.90625 48 35.980469 48 24 Z M 48 24 "}),i.a.createElement("path",{style:{fill:a,stroke:"transparent"},d:"M 33.34375 30.9375 L 34.40625 24 L 27.75 24 L 27.75 19.5 C 27.75 17.601562 28.679688 15.75 31.660156 15.75 L 34.6875 15.75 L 34.6875 9.84375 C 34.6875 9.84375 31.941406 9.375 29.316406 9.375 C 23.832031 9.375 20.25 12.699219 20.25 18.710938 L 20.25 24 L 14.15625 24 L 14.15625 30.9375 L 20.25 30.9375 L 20.25 47.707031 C 22.734375 48.097656 25.265625 48.097656 27.75 47.707031 L 27.75 30.9375 Z M 33.34375 30.9375 "})))}function Z({size:e=48,grayscale:t=!1}){const a=t?$:"#FFFFFF",n=t?G:"#0DC2FF";return i.a.createElement("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("g",{id:"surface1"},i.a.createElement("path",{style:{fill:n,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),i.a.createElement("path",{style:{fill:a,stroke:"transparent"},d:"M 19.609375 36.660156 C 30.253906 36.660156 36.070312 27.839844 36.070312 20.195312 C 36.070312 19.945312 36.070312 19.691406 36.058594 19.453125 C 37.1875 18.636719 38.171875 17.617188 38.953125 16.453125 C 37.921875 16.90625 36.804688 17.21875 35.628906 17.363281 C 36.828125 16.644531 37.738281 15.515625 38.171875 14.160156 C 37.054688 14.820312 35.820312 15.300781 34.5 15.5625 C 33.445312 14.4375 31.945312 13.738281 30.277344 13.738281 C 27.085938 13.738281 24.492188 16.332031 24.492188 19.523438 C 24.492188 19.980469 24.539062 20.425781 24.648438 20.84375 C 19.835938 20.605469 15.574219 18.300781 12.71875 14.796875 C 12.226562 15.648438 11.941406 16.644531 11.941406 17.699219 C 11.941406 19.703125 12.960938 21.480469 14.519531 22.511719 C 13.570312 22.488281 12.683594 22.222656 11.902344 21.792969 C 11.902344 21.816406 11.902344 21.839844 11.902344 21.863281 C 11.902344 24.671875 13.894531 27 16.546875 27.539062 C 16.066406 27.671875 15.550781 27.742188 15.023438 27.742188 C 14.652344 27.742188 14.292969 27.707031 13.933594 27.636719 C 14.664062 29.941406 16.800781 31.609375 19.332031 31.65625 C 17.351562 33.203125 14.855469 34.128906 12.144531 34.128906 C 11.675781 34.128906 11.21875 34.105469 10.765625 34.042969 C 13.296875 35.699219 16.34375 36.660156 19.609375 36.660156 "})))}function Y({size:e=48,grayscale:t=!1}){const a=t?$:"#FFFFFF",n=t?G:"#25d366";return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,version:"1.1"},i.a.createElement("g",{id:"surface1"},i.a.createElement("path",{style:{fill:n,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),i.a.createElement("path",{style:{fill:a,stroke:"transparent"},d:"M 33.851562 13.910156 C 28.871094 9.039062 21.070312 8.566406 15.539062 12.800781 C 10.011719 17.039062 8.4375 24.695312 11.851562 30.769531 L 9.871094 38 L 17.28125 36 C 19.332031 37.148438 21.644531 37.757812 24 37.769531 C 31.730469 37.769531 38 31.503906 38 23.769531 C 38.019531 20.058594 36.542969 16.496094 33.910156 13.878906 M 24 35.410156 C 21.921875 35.410156 19.878906 34.851562 18.089844 33.789062 L 17.671875 33.539062 L 13.269531 34.699219 L 14.441406 30.410156 L 14.128906 30 C 11.304688 25.523438 11.863281 19.707031 15.484375 15.847656 C 19.109375 11.992188 24.886719 11.074219 29.527344 13.621094 C 34.167969 16.164062 36.5 21.523438 35.199219 26.652344 C 33.898438 31.785156 29.292969 35.386719 24 35.410156 M 30.371094 26.710938 C 30.019531 26.539062 28.300781 25.710938 27.980469 25.578125 C 27.660156 25.449219 27.429688 25.398438 27.199219 25.75 C 26.96875 26.101562 26.300781 26.890625 26.089844 27.121094 C 25.878906 27.351562 25.679688 27.378906 25.328125 27.210938 C 24.304688 26.792969 23.359375 26.203125 22.53125 25.46875 C 21.765625 24.765625 21.109375 23.953125 20.578125 23.058594 C 20.378906 22.710938 20.578125 22.519531 20.738281 22.339844 C 20.898438 22.160156 21.089844 21.929688 21.261719 21.730469 C 21.40625 21.554688 21.523438 21.359375 21.609375 21.148438 C 21.71875 20.960938 21.71875 20.730469 21.609375 20.539062 C 21.519531 20.359375 20.820312 18.640625 20.53125 17.941406 C 20.238281 17.238281 19.960938 17.351562 19.75 17.339844 L 19 17.339844 C 18.640625 17.351562 18.304688 17.511719 18.070312 17.78125 C 17.269531 18.53125 16.820312 19.589844 16.839844 20.691406 C 16.957031 22.007812 17.453125 23.261719 18.269531 24.300781 C 19.773438 26.554688 21.84375 28.375 24.269531 29.578125 C 24.921875 29.859375 25.589844 30.105469 26.269531 30.308594 C 26.980469 30.527344 27.734375 30.578125 28.46875 30.449219 C 29.453125 30.25 30.308594 29.648438 30.828125 28.789062 C 31.058594 28.269531 31.128906 27.691406 31.03125 27.128906 C 30.941406 26.988281 30.710938 26.898438 30.359375 26.71875 "})))}var X=a("nGHF");function K(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Q=48,J="#111111",ee="#EFEFEF",te={backgroundColor:"#ffffff",border:"none",padding:0},ae=e=>{Object(M.default)(t=>{t&&(t.getUserID()?e():t.login(()=>{e()}))},z.a)};class ne extends n.Component{constructor(...e){super(...e),K(this,"state",{invitePath:"",whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),K(this,"mounted",!1),K(this,"logShareInviteLink",()=>{const{copyLinkLogged:e,inviteData:t}=this.state,a=this.getShareOptions(12);e||(W.a.logShareInvite(a,t),this.setState({copyLinkLogged:!0}))}),K(this,"createShareInviteLink",()=>{const e=this.getShareOptions(12),{inviteData:t}=this.state;t||W.a.createShareInviteData(e).then(e=>{const t=e.invite_url;t?this.setState({invitePath:t,inviteData:e}):this.setState({inviteData:e})})}),K(this,"selectText",e=>{e.target.select()})}componentDidMount(){this.mounted=!0,this.getWhatsAppURL(),this.createShareInviteLink()}componentWillUnmount(){this.mounted=!1}getShareOptions(e){const{sharedObject:t}=this.props;return{invite_category:3,invite_channel:e,object_type:t.type,object_id:t.id,name:t.name,description:t.description||"",path:t.url,picture:t.imageUrl}}getSendDisplayText(e){switch(e){case c.a.BOARD:return o.a._("Send this board","Sharesheet.ShareSocialBar","social media sharing board");case c.a.PIN:return o.a._("Send this Pin","Sharesheet.ShareSocialBar","social media sharing Pin");case c.a.PINNER:return o.a._("Send this profile","Sharesheet.ShareSocialBar","social media sharing pinner profile");default:return""}}getWhatsAppURL(){const e=this.getShareOptions(10);W.a.createShareInviteData(e).then(e=>{const t=e.message;if(t){const a=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+a})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+Object(I.a)(this.props.sharedObject.url)})})}checkWritePermissions(){return!!N.default.isWriteBanned()}handleSocialShareClick(e){if(this.checkWritePermissions())return;let t=46;"facebook"===e?(this.openFacebookDialog(),t=257):"twitter"===e?(this.openTwitterDialog(),t=256):"messenger"===e?(this.openFbMessengerDialog(),t=950):"whatsapp"===e?(this.openWhatsAppDialog(),t=951):"pincode"===e?this.props.onCreatePincodeClick&&this.props.onCreatePincodeClick():"copylink"===e?(this.openShareUrlLink(),t=100):"email"===e&&(this.openEmailDialog(),t=258),this.props.onExternalSend&&this.props.onExternalSend(),Object(w.b)(101,{component:153,element:t})}openEmailDialog(){this.props.onEmailIconClick()}openFacebookDialog(){ae(()=>{W.a.shareFacebookInvite(this.getShareOptions(5))})}openFbMessengerDialog(){ae(()=>{W.a.shareFbMessengerInvite(this.getShareOptions(6))})}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(W.a.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){W.a.shareTwitterInvite(this.getShareOptions(9))}renderShareOptions(){const{sharedObject:e,onCreatePincodeClick:t}=this.props;return i.a.createElement(n.Fragment,null,i.a.createElement(l.e,{display:"flex",justifyContent:"around"},i.a.createElement(F,{iconSize:Q,marginEnd:!0},i.a.createElement("button",{"aria-label":o.a._("Share on WhatsApp","sharesheet.shareSocialBar.ShareWhatsapp","Button that will share via WhatsApp"),onClick:()=>this.handleSocialShareClick("whatsapp"),style:te,tabIndex:"-1"},i.a.createElement("a",{href:this.state.whatsappURL,rel:"noopener noreferrer",target:"_blank"},i.a.createElement(Y,{size:Q}))),i.a.createElement(D,{text:o.a._("WhatsApp","sharesheet.shareSocialBar.ShareWhatsappLabel","WhatsApp button label")})),i.a.createElement(F,{iconSize:Q,marginEnd:!0},i.a.createElement("button",{"aria-label":o.a._("Share on Facebook","sharesheet.shareSocialBar.ShareFacebook","Button that will share via Facebook"),onClick:()=>this.handleSocialShareClick("facebook"),style:te},i.a.createElement(q,{size:Q})),i.a.createElement(D,{text:o.a._("Facebook","sharesheet.shareSocialBar.ShareFacebookLabel","Facebook button label")})),i.a.createElement(F,{iconSize:Q,marginEnd:!0},i.a.createElement("button",{"aria-label":o.a._("Share on Twitter","sharesheet.shareSocialBar.ShareTwitter","Button that will share via Twitter"),onClick:()=>this.handleSocialShareClick("twitter"),style:te},i.a.createElement(Z,{size:Q})),i.a.createElement(D,{text:o.a._("Twitter","sharesheet.shareSocialBar.ShareTwitterLabel","Twitter button label")})),i.a.createElement(F,{iconSize:Q,marginEnd:!1},this.renderEmail())),i.a.createElement(l.e,{display:"flex",paddingY:4},i.a.createElement(U,{backgroundColor:ee,iconColor:J,iconSize:Q,onCreatePincodeClick:t,sharedObject:e}),i.a.createElement(R,{key:"copylink",backgroundColor:ee,iconColor:J,iconSize:Q,invitePath:this.state.invitePath,onClick:()=>this.handleSocialShareClick("copylink")})))}renderEmail(){return i.a.createElement(F,{key:"email",iconSize:Q,marginEnd:!1},i.a.createElement(l.e,{display:"inlineBlock"},i.a.createElement("button",{"aria-label":o.a._("Share on Email","sharesheet.shareSocialBar.ShareEmail","Button that will share via Email"),onClick:()=>this.handleSocialShareClick("email"),style:te},i.a.createElement(A.a,{backgroundColor:ee,iconColor:J,size:Q}))),i.a.createElement(D,{text:o.a._("Email","Share via email","Share via email")}))}render(){const{sharedObject:e,paddingX:t}=this.props;return i.a.createElement(l.e,{paddingX:t},i.a.createElement(l.e,{alignContent:"center",alignItems:"center",display:"flex",height:64,justifyContent:"center"},i.a.createElement(l.V,{size:"lg",weight:"bold"},this.getSendDisplayText(e.type))),i.a.createElement(l.e,{paddingX:2},this.renderShareOptions()))}}var ie=Object(O.compose)(Object(r.connect)(({viewer:e})=>({viewer:e}),()=>({})),X.c)(ne),re=a("7w6Q"),oe=a("eOdZ"),se=a("M1Uz");function ce(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":case"BoardActivityThreadItem":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridHomefeedBoth":case"ShoppingSquareGridPdp":case"ShoppingSquareGridRelatedProducts":case"ShoppingSquareGridRelatedProductsBoth":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var le=a("ENhS");const de=(e,t)=>{const a={};return e.forEach(e=>{a[e]=t}),a};var ue=Object(r.connect)(null,e=>({createConversation:t=>e(Object(j.b)(t)),sendMessage:t=>e(t)}))((function(e){const[t,a]=Object(n.useState)(!1),[r,s]=Object(n.useState)(null),[c,d]=Object(n.useState)({}),[u,m]=Object(n.useState)(""),[p]=Object(n.useState)((e=>"today_article"===e?o.a._("Check out this article on Pinterest!","sendObject.initialTextValue.todayArticle","pre-populated share message when a user tries to send a Today Article"):"")(e.sendType)),{showOneToast:b}=Object(X.b)(),{surface:f}=Object(le.b)(),E=(t,n)=>{a(!1),e.onMessageSent(),((t,a)=>{const{sharedObject:n}=e,i=n.id;re.a.increment("web.sharesheet.internal.send",1,{status:"success"}),Object(w.b)(180,{element:276,objectId:i,conversation_id:t,pin_id:a})})(t,n)},S=e=>{re.a.increment("web.sharesheet.internal.send",1,{status:"fail"});const t=e.message_detail||e.message;t&&b(({onHide:e})=>i.a.createElement(se.a,{color:"red",duration:5e3,onHide:e,text:t}))},v=async(t,a,n)=>{const{createConversation:i,sharedObject:r,sendType:o}=e,s=r.id,l={emails:a,user_ids:t,text:n,source:ce(f)};l[o]=s;const u=oe.a.create("ConversationsResource",l);try{const e=await u.callCreate(),n=e&&e.resource_response.data;i(n),E(n.id,"pin"===o?s:null),t.length>0?d({...c,...de(t,n.id)}):d({...c,...de(a,n.id)})}catch(h){S(h)}},y=(t,a)=>{"conversation_share_suggestion"===t.type?((t,a,n)=>{const{sendMessage:i,sharedObject:r,sendType:o}=e;let s;switch(o){case"pin":s="pinId";break;case"board":s="boardId";break;case"did_it":s="didItId";break;case"user":case"pinner":s="userId"}const l=s?Object(j.g)(t,{text:a,[s]:r.id,source:ce(f)}):void 0;l&&(i(l),l.getPromise().then(()=>{E(t,"pin"===o?r.id:null),d({...c,[t]:t})}).catch(e=>{S(e)}))})(t.id,a):"contact_share_suggestion"!==t.type&&"user_share_suggestion"!==t.type&&"user"!==t.type||!t.username?v([],[t.email],a):v([t.id],[],a),Object(w.b)(101,{component:56,element:276})},C=()=>{a(!1),s(null)},{onCreatePincodeClick:_,onShowImport:O,sendType:k,sharedObject:x,isFlyout:I,onHide:T,onExternalSend:P}=e,D="email"===r?i.a.createElement(g,{initialTextValue:p,isFlyout:I,objectId:x.id,objectType:k,onCancelDraft:C,onHide:T,onSendMessage:y}):i.a.createElement(h,{initialTextValue:p,isFlyout:I,objectId:x.id,objectType:k,onCancelDraft:C,onHide:T,onSendMessage:y,recipient:"object"==typeof r?r:void 0});return t?D:i.a.createElement(l.e,{color:"white"},i.a.createElement(ie,{onCreatePincodeClick:_,onEmailIconClick:()=>{a(!0),s("email")},onExternalSend:P,onHide:T,paddingX:4,sharedObject:x}),i.a.createElement(l.e,null,i.a.createElement(L,{isFlyout:I,onChange:({value:e})=>{m(e),Object(w.b)(4113,{component:13029,element:1043})},onHide:T,onSendMessage:y,onShowImportContacts:O,onShowSendDraft:e=>{a(!0),s(e)},paddingX:4,sentHistory:c,value:u})))})),he=a("TSYQ"),me=a.n(he),pe=a("+zF7");const ge=["facebook","google"];function be(e){const t=me()("sendShare",e.network),a=(n=e.network,r=e.email,"facebook"===n?o.a._("Friends who are on Pinterest"):"google"===n&&r&&-1!==r.indexOf("@gmail")?r:null);var n,r;return i.a.createElement("a",{onClick:e.onClick,role:"button"},i.a.createElement("div",{className:t},i.a.createElement("em",{className:"icon"}),i.a.createElement("div",{className:"networkInfo"},i.a.createElement("h4",{className:"title"},function(e){return"facebook"===e?o.a._("Facebook"):"twitter"===e?o.a._("Twitter"):"google"===e?o.a._("Google"):o.a._("Other")}(e.network)),a?i.a.createElement("div",{className:"subtitle"},a):null)))}function fe({onBack:e}){const t=Object(H.a)(),a=t.isAuth?t.email:null,n=ge.filter(e=>!t.isAuth||!1===t.socialNetwork[e].connected);return i.a.createElement("div",{className:"SocialConnectPanel sendShare"},i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"backNav"},i.a.createElement("a",{onClick:e,role:"button"},i.a.createElement("span",{className:"icon"}),i.a.createElement("span",{className:"label"},o.a._("Back")))),i.a.createElement("div",{className:"prompt"},o.a._("Upload contacts from..."))),i.a.createElement("ul",{className:"socialConnectOptions"},n.map(e=>i.a.createElement("li",{style:{borderLeft:"none"},key:e},i.a.createElement(be,{email:a,network:e,onClick:()=>function(e){pe.a.instance().handleConnect(e,!0,{})}(e)})))))}function Ee({classNames:e="",isFlyout:t=!1,onCreatePincodeClick:a,onExternalSend:r,onHide:o,sendType:s,sharedObject:c,viewType:d,viewParameter:u}){const[h,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1);Object(n.useEffect)(()=>(Object(w.b)(7120,{objectId:c.id,view:d,viewParameter:u}),()=>{Object(w.b)(7121,{objectId:c.id,view:d,viewParameter:u});const e=p?7493:7492;Object(w.b)(e,{view:d,viewParameter:u})}),[]);const b=()=>{m(!0)},f=()=>{m(!1)},E=()=>{g(!0)};return h?(()=>{const e=t?"Module SendObjectBase sendShare":"";return i.a.createElement("div",{className:e},i.a.createElement(fe,{onBack:f}))})():i.a.createElement(l.e,{overflow:"hidden"},i.a.createElement(ue,{isFlyout:t,onCreatePincodeClick:a,onHide:o,onShowImport:b,onMessageSent:E,onExternalSend:r,sendType:s,sharedObject:c}))}},oRao:function(e,t,a){var n=a("q1tI"),i=a.n(n),r=a("XRfM"),o=a("pLLR");t.a=({currency:e,maximumFractionDigits:t,minimumFractionDigits:a,shortform:n,shortformMaximumFractionDigits:s,formatStyle:c,uplimit:l,value:d})=>i.a.createElement(o.b,null,i=>Object(r.e)(i.locale||"en-US",d,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:a,shortform:n,shortform_maximum_fraction_digits:s,style:c,uplimit:l}))},oVol:function(e,t,a){a.d(t,"a",(function(){return n}));const n={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article"}},udob:function(e,t,a){var n=a("LqyK"),i=a("eOdZ"),r=a("d7ng"),o=a("4dcN"),s=a("zwad"),c=a("mBfy");const l={};l.open=function(e,t,a){const n=function(e,t){const a=window.screen.width,n=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((a-e)/2)+",top="+(n>t?Math.round((n-t)/2):0)}(t,a);window.open(e,void 0,n)},l.shrinkWrap=function(){!function(e){const t=document.documentElement;let a=t?t.scrollWidth-t.clientWidth:0,n=t?t.scrollHeight-t.clientHeight:0;e&&(a=Math.max(a,0),n=Math.max(n,0)),c.default.isAuthenticated()||(n=340),window.resizeBy(a,n)}(!1)};var d=l;const u={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){const t=e.ga_category||"share_twitter";o.a.trackEvent(t,"click");const a=u._getWindowUrl(e.tweet_path,e.tweet_text);d.open(a,u.DIALOG_WIDTH,u.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>s.a.appendQueryString("https://twitter.com/intent/tweet",{via:"pinterest",url:e?Object(r.a)(e):void 0,text:t||void 0})};var h=u;const m={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8},_convertToInviteObject(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite(e,t){const a=this._convertToInviteObject(e.object_type),n=e.invite_channel,r=null==e.invite_category?3:e.invite_category,o=e.object_id;return i.a.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:r,invite_object:a,invite_channel:n},invite_code:t,object_id:o}).callCreate()},createAndLogShareInvite:e=>m.createShareInviteData(e).then(t=>(m._logShareInvite(e,t.invite_code),Promise.resolve(t)),e=>Promise.reject(e)),createShareInviteData(e){const t=this._convertToInviteObject(e.object_type),a=e.invite_channel,n=null==e.invite_category?3:e.invite_category,r=e.object_id;return i.a.create("CreateExternalInviteResource",{invite_type:{invite_category:n,invite_object:t,invite_channel:a},object_id:r}).callCreate().then(e=>Promise.resolve(e.resource_response.data),e=>Promise.reject(e))},logShareInvite(e,t){t&&m._logShareInvite(e,t.invite_code)},shareFacebookInvite:e=>m.createShareInviteData(e).then(t=>{const a=t.invite_url,i=t.invite_code;return a&&n.default.open({type:"share",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:a,picture:e.picture,callback(t){t&&!t.error_message&&m._logShareInvite(e,i)}}),Promise.resolve(t)},e=>Promise.reject(e)),shareTwitterInvite(e){const t=this._convertToInviteObject(e.object_type);return m.createShareInviteData(e).then(a=>{const n=a.invite_url,i=a.invite_code;let r=e.description;return 6===t&&e.name&&(r=e.name),n&&h.openDialog({tweet_path:n,tweet_text:r}),m._logShareInvite(e,i),Promise.resolve(a)},e=>Promise.reject(e))},shareFbMessengerInvite:e=>m.createShareInviteData(e).then(t=>{const a=t.invite_url,i=t.invite_code;return a&&n.default.open({type:"send",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:a,picture:e.picture,callback(t){t&&t.success&&m._logShareInvite(e,i)}}),Promise.resolve(t)},e=>Promise.reject(e))};t.a=m},w1Xl:function(e,t,a){a.d(t,"a",(function(){return d}));var n=a("q1tI"),i=a.n(n),r=a("Ye/N"),o=a("7w6Q"),s=a("eOdZ"),c=a("U4JR"),l=a("n6mq");function d(e){const{identifier:t,onUndoHide:a,isGroupChat:n}=e,d=async()=>{const n=s.a.create("ShareSuggestionsHideResource",{user_identifier:t});await n.callDelete(),a(),(()=>{const{component:t,element:a}=e;Object(c.b)(101,{component:t,element:a}),o.a.increment("web_contacts.suggestions.undo_hide",1,{surface:t})})()};return i.a.createElement(l.e,{display:"flex"},i.a.createElement(l.e,{alignItems:"center",display:"flex",flex:"grow",height:"100%",width:"80%"},i.a.createElement(l.V,{inline:!0,color:"gray"},n?r.a._("Ok! We won't suggest this group again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact"):r.a._("Ok! We won't suggest this contact again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact"))),i.a.createElement(l.e,{flex:"none",display:"flex",justifyContent:"end",alignItems:"center"},i.a.createElement(l.f,{onClick:({event:e})=>{e.stopPropagation(),d()},text:r.a._("Undo","SendObject.SendObjectSuggestionItem.HideContactUndoButton","Undo button after user hide a contact"),size:"lg",type:"button",inline:!0})))}},yjg8:function(e,t,a){a.d(t,"e",(function(){return n})),a.d(t,"f",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"i",(function(){return o})),a.d(t,"a",(function(){return s})),a.d(t,"j",(function(){return c})),a.d(t,"c",(function(){return l})),a.d(t,"k",(function(){return d})),a.d(t,"n",(function(){return u})),a.d(t,"h",(function(){return h})),a.d(t,"g",(function(){return m})),a.d(t,"d",(function(){return p})),a.d(t,"m",(function(){return g})),a.d(t,"l",(function(){return b}));const n=236,i=2*n/3,r=24,o=2,s=125,c=16,l=14,d=16,u=e=>e||d,h=900,m=16,p=24,g=(e=!1,t=!1)=>e?t?m:12:p,b=(e,t,a,n,i=l)=>{const r=e+i;return`\n@media (min-width: ${t*r}px) and (max-width: ${(a+1)*r-1}px) {\n  ${n}\n}\n`}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/15-010c26fc8e0d3fdb4a5e.mjs.map